import re

# Входной текст (тот же, который вы предоставили)
text = """
№ 
п/п Наименование 
товара  Кол-во Характеристики  Макет  
1.  Устройство 
пускозарядное 
CARKU PRO MAX 
2500А, 270 х 189 х 
160мм  
1 шт. Вес - 2900 г  
Габаритные размеры  - 270 х 189 х 160 мм  
Описание  - Устройство CARKU PRO MAX – 
1шт, Зарядное устройство – 1 шт., Кабель 
USB -A — USB -C – 1 шт., Встроенный 
фонарик – 1 шт.  
Пиковый ток  - 2500 А  
Применение : Многофункциональный 
внешний источник питания, который 
поможет завести мотор машины зимой  
при посаженном аккумуляторе  
и так же способен обеспечи ть зарядку 
электроники.   
Применимость детали к автомобилям  
Для аккумуляторов напряжением 12/24 В   
2.  Шина  зимняя  
Yokohama Ice Guard 
IG35+ 215/50 R17 
95T XL  
5 комплектов  20 шт. Индекс категории скорости  - Т 
Категория использования шины  - Зима  
Номинальное отношение высоты профиля 
шины к ее ширине  - 50 %  
Номинальный посадочный диаметр обода  - 
17 дюйм  
Индекс нагрузки  - 95 
Наличие шипов   
3.  Шина  зимняя  Leao 
Winter Defender Grip 
225/45 R18 95T  
5 комплектов  
7 шт. Индекс категории скорости  - T 
Индекс нагрузки  - 95 
Категория использования шины  - Зима  
Назначение пневматических шин  - Легковой 
автомобиль  
Номинальная ширина профиля  - 225 мм  
Номинальное отношение высоты профиля 
шины к ее ширине  - 45 %  
Номинальный посадочный диаметр обода  - 
18 дюйм  
Тип - Шипованная
"""

# Разделим текст на строки и выведем их, чтобы увидеть, как устроена структура
lines = text.splitlines()

# Выводим первые несколько строк для диагностики
print(f"Количество строк в тексте: {len(lines)}")
print("Первые 10 строк:")
for line in lines[:10]:
    print(line)

# Попробуем использовать более простое регулярное выражение, чтобы разделить текст на товары.
# Мы будем искать номера товаров и текст после них
simple_product_pattern = re.compile(r"(\d+)\.\s+([^\d]+)(\d+ шт?)(.*?)\s*(?=\d+\.)", re.DOTALL)

# Ищем все товары
matches = simple_product_pattern.findall(text)

# Проверяем количество совпадений
print(f"\nНайдено товаров с простым выражением: {len(matches)}")

# Выводим несколько совпадений для диагностики
for i, match in enumerate(matches[:3]):  # Покажем первые 3 совпадения для примера
    print(f"Товар {i + 1}: {match}")
